from django.core.management.base import BaseCommand
from art_therapy.models import Lesson
from django.utils import timezone

class Command(BaseCommand):
    help = "Populate initial Lessons data"

    def handle(self, *args, **kwargs):
        lessons_data = [
            {
                "title": "Цветотерапия: мир эмоций",
                "cover": "lesson_covers/cvietotierapija.jpeg",
                "description": "Интерактивное занятие, направленное на распознавание и выражение эмоций через цвет. В данном уроке представлено описание процесса создания абстрактной картины, в которой используются цвета, которые соответствуют вашим различным эмоциям, которые вы хотели бы прожить или проживаете сейчас.",
                "materials": "Любые краски, кисти, бумага.",
                "process": 
"""**Шаг 1: Подготовка**
- Найдите тихое и уютное место, где вас никто не потревожит
- Приготовьте все материалы: краски, кисти разных размеров, бумагу
- Включите спокойную музыку для расслабления
- Медитативное упражнение
- Сядьте удобно, закройте глаза
- Сделайте 3 глубоких вдоха и выдоха
- Почувствуйте, как напряжение покидает тело
- Позвольте себе погрузиться в состояние спокойствия

**Шаг 2: Определение эмоций**
- Напишите 3-5 эмоций, которые вы испытываете сейчас
- Для каждой эмоции выберите цвет, который её символизирует
- Подумайте, почему именно этот цвет ассоциируется с данной эмоцией

**Шаг 3: Творческий процесс**
- Начните с чистого листа бумаги
- Нанесите базовые цветовые пятна, соответствующие вашим эмоциям
- Экспериментируйте с оттенками и переходами цветов
- Позвольте краскам течь свободно, не думая о результате

**Шаг 4: Завершение**
- Дайте работе название
- Закройте глаза и представьте свою картину у себя в голове, не смотря на нее.
- Запишите свои ощущения и ассоциации на лист бумаги либо поверх листа с картиной
- Поблагодарите себя за проделанную работу""",
                "recommendations": """- Не судите свою работу критически
- Позвольте себе быть спонтанным
- Помните, что нет правильного или неправильного способа создания картины
- Процесс важнее результата""",
                "comments": "- Используйте руки и пальцы вместо кистей, не боясь испачкать."
            },
            {
                "title": "Музыкальный коллаж: создай свою историю",
                "cover": "lesson_covers/myzukalnyjkolazh.jpeg",
                "description": "Занятие, где мы предлагаем вам создать персональную музыкальную историю из различных фрагментов музыки. Можно добавлять звуки природы, классические произведения, а также любимую музыку, отражающую внутреннее состояние.",
                "materials": "Сайт, с которого можно скачать музыку, любое приложение для монтажа/плейлист, в который можно добавить музыку.",
                "process": """**Шаг 1: Подготовка**
- Выделите 40-60 минут свободного времени
- Подготовьте комфортное рабочее место
- Проверьте наличие всех необходимых материалов
- Включите режим "Не беспокоить" на устройствах

**Шаг 2: Определение настроения**
- Определите, какое настроение вы хотите отразить в своей музыкальной истории
- Запишите 3-5 ключевых эмоций, которые хотите выразить
- Подумайте о событиях или моментах, которые вызывают эти эмоции

**Шаг 3: Сбор материалов**
- Откройте подготовленный сайт с музыкой
- Найдите и скачайте 5-7 музыкальных фрагментов разных жанров
- Добавьте звуки природы (шум дождя, пение птиц, океанские волны)
- Подберите 2-3 любимых трека, отражающих ваше внутреннее состояние

**Шаг 4: Создание структуры**
- Расположите музыкальные фрагменты в хронологическом порядке
- Определите, какие эмоции будет выражать каждый фрагмент
- Подумайте о переходах между треками
- Решите, какие звуки природы добавить

**Шаг 5: Монтаж**
- Откройте выбранное приложение для монтажа
- Загрузите все подготовленные фрагменты
- Настройте громкость каждого трека
- Добавьте плавные переходы между фрагментами
- Экспериментируйте с темпом и ритмом

**Шаг 6: Завершение**
- Прослушайте получившийся музыкальный коллаж
- Внесите необходимые корректировки
- Сохраните работу под значимым для вас названием
- Запишите свои ощущения от процесса и результата""",
                "recommendations": """- Не бойтесь экспериментировать с разными жанрами
- Позвольте музыке вести вас
- Не стремитесь к идеальности
- Доверяйте своей интуиции в выборе фрагментов
- Помните, что это ваша личная музыкальная история""",
                "comments": ""
            },
            {
                "title": "Сказки: путешествие в себя с помощью коллажей",
                "cover": "lesson_covers/skazki.jpeg",
                "description": "Практика создания персональной сказки с помощью выбора персонажей и локаций, благодаря которой можно освоить новое творческое направление и проявить свои эмоции через творчество.",
                "materials": "Газеты/журналы/распечатки картинок, бумага, ножницы, клей, пишущие материалы.",
                "process": """**Шаг 1: Подготовка**
- Соберите все необходимые материалы  
- Подготовьте большое рабочее пространство  
- Включите спокойную фоновую музыку  
- Возьмите блокнот для заметок  

**Шаг 2: Генерация идей**  
- Закройте глаза и представьте свою идеальную историю  
- Запишите основные элементы:  
  - Главные герои  
  - Место действия  
- Обозначьте композицию  

**Шаг 3: Поиск материалов**  
- Просмотрите журналы и газеты и вырежьте изображения, которые резонируют с вашей историей.  
- Соберите картинки, отражающие:  
  - Персонажей  
  - Локации  
  - Предметы  
  - Эмоции  

**Шаг 4: Создание основы**
- Выберите большой лист бумаги для фона
- Расположите основные элементы вашей истории

**Шаг 5: Работа над деталями**
- Добавьте фон и декорации
- Разместите важные предметы
- Дополните коллаж деталями

**Шаг 6: Финальные штрихи**
- Просмотрите всю работу
- Добавьте недостающие элементы
- Добавьте текст-описание при желании
- Украсьте работу дополнительными рисунками

**Шаг 7: Завершение**
- Дайте название вашей истории
- Запишите свои мысли и чувства
- Поблагодарите себя за проделанную работу""",
                "recommendations": """- Позвольте образам приходить спонтанно
- Не бойтесь менять композицию
- Доверяйте своей интуиции в выборе изображений
- Помните, что нет правильных или неправильных решений
- Создавайте историю в своём темпе""",
                "comments": """- Можно создать серию мини-коллажей для разных частей истории
- Добавить собственные рисунки между коллажами
- Создать персонажей с помощью аппликации
- Использовать разные техники (рисование, раскраска)"""
            }
        ]

        for lesson_data in lessons_data:
            Lesson.objects.get_or_create(
                title=lesson_data["title"],
                defaults={
                    "cover": lesson_data["cover"],
                    "description": lesson_data["description"],
                    "materials": lesson_data["materials"],
                    "process": lesson_data["process"],
                    "recommendations": lesson_data["recommendations"],
                    "comments": lesson_data["comments"],
                    "created_at": timezone.now(),
                    "updated_at": timezone.now()
                }
            )

        self.stdout.write(self.style.SUCCESS(
            "Successfully populated Lessons data!"))
